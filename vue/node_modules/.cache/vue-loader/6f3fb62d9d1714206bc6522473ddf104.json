{"remainingRequest":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/romain/Bureau/Projet/2/Thermoformeuse/vue/src/components/Graphe.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/src/components/Graphe.vue","mtime":1586545103198},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/cache-loader/dist/cjs.js","mtime":1583847125793},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/babel-loader/lib/index.js","mtime":1583847125770},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/vuetify-loader/lib/loader.js","mtime":1583847126586},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/cache-loader/dist/cjs.js","mtime":1583847125793},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/vue-loader/lib/index.js","mtime":1583847126556}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd2dWUtbGluZS1jaGFydCcsCiAgZGF0YTogKCkgPT4gKHsKICAgICAgZGF0YTogdW5kZWZpbmVkLAogICAgICB0aW1lcjogdW5kZWZpbmVkLAogICAgICBuYl96b25lczogdW5kZWZpbmVkLAogICAgICB0ZW1wX3NldWlsczogdW5kZWZpbmVkLAogICAgICBtYXJnZVg6IDMwLAogICAgICBtYXJnZVk6IDIwLAogICAgICBMYXJnZXVyX2dyYXBoZTogODAwLAogICAgICBIYXV0ZXVyX2dyYXBoZTogNTAwLAogICAgICBFc3BhY2VtZW50X2JhcnJlczogMTAsCiAgICAgIExhcmdldXJfYmFycmVzOiB1bmRlZmluZWQsCiAgICAgIHRhYl96b25lczogdW5kZWZpbmVkLAogICAgfSksCiAgbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoKi43KTsKICAgIHRoaXMuSGF1dGV1cl9ncmFwaGUgPSBNYXRoLmZsb29yKHdpbmRvdy5pbm5lckhlaWdodCouNik7CiAgICB0aGlzLkxhcmdldXJfZ3JhcGhlID0gTWF0aC5mbG9vcih3aW5kb3cuaW5uZXJXaWR0aCouNDUpK3RoaXMubWFyZ2VYOwogICAgdGhpcy5nZXRfY29uZmlnKCk7CiAgICBpZih0aGlzLnRhYl96b25lcyA9PT0gdW5kZWZpbmVkKXsKICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuZ2V0X2NvbmZpZywgMTAwMCk7CiAgICB9CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uKCl7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogIH0sCiAgd2F0Y2g6ewogICAgZGF0YTogZnVuY3Rpb24oKXsKICAgICAgLy8gdGhpcy5jcmVhdGVHcmFwaCgpOwogICAgICB0aGlzLnVwZGF0ZSgpOwogICAgfSwKICAgIHRhYl96b25lczogZnVuY3Rpb24oKXsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgdGhpcy5nZXRfdGVtcF9zZXVpbCgpOwogICAgfSwKICAgIHRlbXBfc2V1aWxzOiBmdW5jdGlvbigpewogICAgICBjb25zb2xlLmxvZygiYSIpOwogICAgICB0aGlzLkxhcmdldXJfYmFycmVzID0gdGhpcy5MYXJnZXVyX2dyYXBoZS90aGlzLm5iX3pvbmVzOwogICAgICB0aGlzLmNoYW5nZURhdGEoKTsKICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuY2hhbmdlRGF0YSwgMTAwMCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRfdGVtcF9zZXVpbCgpewogICAgICBsZXQgZGF0YV90b19zZW5kID0gWyJnZXRfY29uZmlndXJhdGlvbl9jb3VyYW50ZSJdOwogICAgICBsZXQgaGVhZGVycyA9IHsnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLAogICAgICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyc6ICdQT1NULCBHRVQsIFBVVCwgT1BUSU9OUywgREVMRVRFJywKICAgICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcywgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luLCBPcmlnaW4sIEFjY2VwdCwgQ29udGVudC1UeXBlJywKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfQogICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwgewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGhlYWRlcnMsCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YV90b19zZW5kKQogICAgICB9KQogICAgICAudGhlbihyZXM9PiByZXMuanNvbigpKQogICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICBpZihkYXRhWzFdID09PSBudWxsKXsKICAgICAgICAgIHRoaXMudGVtcF9zZXVpbHMgPSBuZXcgQXJyYXkodGhpcy5uYl96b25lcyk7CiAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLm5iX3pvbmVzOyBpKyspewogICAgICAgICAgICB0aGlzLnRlbXBfc2V1aWxzW2ldID0gMTAwOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgY29uc29sZS5sb2coZGF0YVsxXSk7CiAgICAgICAgICB0aGlzLnRlbXBfc2V1aWxzID0gbmV3IEFycmF5KHRoaXMubmJfem9uZXMpOwogICAgICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMubmJfem9uZXM7IGkrKyl7CiAgICAgICAgICAgIHRoaXMudGVtcF9zZXVpbHNbaV0gPSBkYXRhWzFdW3RoaXMudGFiX3pvbmVzW2ldXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdyaWxsZV9zZWxvbl9ZKEF4ZVkpIHsKICAgICAgcmV0dXJuIGQzLmF4aXNMZWZ0KEF4ZVkpLnRpY2tzKDEwKQogICAgfSwKICAgIGdldF9jb25maWcoKXsKICAgICAgbGV0IGRhdGFfdG9fc2VuZCA9IFsiZ2V0X3NwZWNpZmljYXRpb25zX3RoZXJtbyJdOwogICAgICBsZXQgaGVhZGVycyA9IHsnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLAogICAgICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyc6ICdQT1NULCBHRVQsIFBVVCwgT1BUSU9OUywgREVMRVRFJywKICAgICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcywgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luLCBPcmlnaW4sIEFjY2VwdCwgQ29udGVudC1UeXBlJywKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfQogICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwgewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGhlYWRlcnMsCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YV90b19zZW5kKQogICAgICB9KQogICAgICAudGhlbihyZXM9PiByZXMuanNvbigpKQogICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLm5iX3pvbmVzID0gZGF0YVsxXS5uYl96b25lczsKICAgICAgICB0aGlzLnRhYl96b25lcyA9IGRhdGFbMV0ubm9tX3pvbmVfY2hhdWZmZTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlRGF0YSgpewoKICAgICAgbGV0IGRhdGFfdG9fc2VuZCA9IFsiZ2V0X3RlbXBlcmF0dXJlIl07CiAgICAgIGxldCBoZWFkZXJzID0geydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicsCiAgICAgICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJzogJ1BPU1QsIEdFVCwgUFVULCBPUFRJT05TLCBERUxFVEUnLAogICAgICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzLCBBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4sIE9yaWdpbiwgQWNjZXB0LCBDb250ZW50LVR5cGUnLAogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICB9CiAgICAgIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjMwMDAiLCB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgaGVhZGVycywKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhX3RvX3NlbmQpCiAgICAgIH0pCiAgICAgIC50aGVuKHJlcz0+IHJlcy5qc29uKCkpCiAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgIHRoaXMuZGF0YSA9IGRhdGFbMV0uem9uZV9jaGF1ZmZlOwogICAgICB9KTsKICAgIH0sCiAgICBkZXNzaW5lcl9oaXN0b2dyYW1tZSgpewogICAgICB2YXIgbmJfem9uZXMgPSB0aGlzLmRhdGEubGVuZ3RoOwogICAgICB2YXIgbWFyZ2VYID0gdGhpcy5tYXJnZVg7CiAgICAgIHZhciBtYXJnZVkgPSB0aGlzLm1hcmdlWTsKICAgICAgdmFyIExhcmdldXJfZ3JhcGhlID0gdGhpcy5MYXJnZXVyX2dyYXBoZTsKICAgICAgdmFyIEhhdXRldXJfZ3JhcGhlID0gdGhpcy5IYXV0ZXVyX2dyYXBoZTsKICAgICAgdmFyIEVzcGFjZW1lbnRfYmFycmVzID0gdGhpcy5Fc3BhY2VtZW50X2JhcnJlczsKICAgICAgdmFyIExhcmdldXJfYmFycmVzID0gKExhcmdldXJfZ3JhcGhlIC8gbmJfem9uZXMpOwoKICAgICAgdmFyIHRhYl96b25lcyA9IHRoaXMudGFiX3pvbmVzOwoKICAgICAgdmFyIEF4ZVkgPSBkMy5zY2FsZUxpbmVhcigpCiAgICAgICAgICAuZG9tYWluKFtkMy5tYXgodGhpcy5kYXRhKSsxNTAsMF0pCiAgICAgICAgICAucmFuZ2UoWzAsSGF1dGV1cl9ncmFwaGVdKQoKICAgICAgdmFyIEF4ZVggPSBkMy5zY2FsZUJhbmQoKQogICAgICAgICAgLmRvbWFpbih0YWJfem9uZXMpCiAgICAgICAgICAucmFuZ2UoWzAsTGFyZ2V1cl9ncmFwaGVdKQoKICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgnI2hpc3RvZ3JhbW1lX3RlbXAnKQogICAgICAgICAgLmF0dHIoIndpZHRoIiwgTGFyZ2V1cl9ncmFwaGUrbWFyZ2VYKQogICAgICAgICAgLmF0dHIoImhlaWdodCIsIEhhdXRldXJfZ3JhcGhlKTsKCiAgICAgIHZhciB0ZW1wX29rID0gdGhpcy50ZW1wX2JsZXVlcygpOwogICAgICB2YXIgdGVtcF9wYXNfb2sgPSB0aGlzLnRlbXBfcm91Z2VzKCk7CiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuYl96b25lczsgaSsrKXsKICAgICAgICB0ZW1wX3Bhc19va1tpXSA9IEhhdXRldXJfZ3JhcGhlIC0gQXhlWSh0ZW1wX3Bhc19va1tpXSk7CiAgICAgICAgdGVtcF9va1tpXSA9IEhhdXRldXJfZ3JhcGhlIC0gQXhlWSh0ZW1wX29rW2ldKTsKICAgICAgfQoKICAgICAgc3ZnLmFwcGVuZCgiZyIpCiAgICAgICAgICAuYXR0cigiY2xhc3MiLCAiZ3JpbGxlIikKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIrbWFyZ2VYKyIsIisgLW1hcmdlWSArIikiKQogICAgICAgICAgLmNhbGwodGhpcy5ncmlsbGVfc2Vsb25fWShBeGVZKQogICAgICAgICAgICAgIC50aWNrU2l6ZSgtTGFyZ2V1cl9ncmFwaGUpCiAgICAgICAgICAgICAgLnRpY2tGb3JtYXQoIiIpCiAgICAgICAgICApOwoKICAgICAgc3ZnLnNlbGVjdEFsbCgiLmdyaWxsZSBsaW5lIikuc3R5bGUoInN0cm9rZSIsICJsaWdodGdyYXkiKTsKCgogICAgICBzdmcKICAgICAgLmFwcGVuZCgiZyIpCiAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIrbWFyZ2VYKyIsIisgLW1hcmdlWSArIikiKQogICAgICAuY2FsbChkMy5heGlzTGVmdChBeGVZKSk7CgogICAgICBzdmcKICAgICAgLmFwcGVuZCgiZyIpCiAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIrIG1hcmdlWCArIiwiKyhIYXV0ZXVyX2dyYXBoZS1tYXJnZVkpKyIpIikKICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbShBeGVYKSk7CgoKICAgICAgc3ZnLnNlbGVjdEFsbCgiZ3JhcGhlX3JvdWdlIikKICAgICAgICAgICAgICAgICAgLmRhdGEodGVtcF9wYXNfb2spCiAgICAgICAgICAgICAgICAgIC5lbnRlcigpCiAgICAgICAgICAgICAgICAgIC5hcHBlbmQoInJlY3QiKQogICAgICAgICAgICAgICAgICAuYXR0cigiZmlsbCIsICJyZWQiKQogICAgICAgICAgICAgICAgICAuYXR0cigieSIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIYXV0ZXVyX2dyYXBoZSAtIGQ7CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIC5hdHRyKCJ4IiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRXNwYWNlbWVudF9iYXJyZXM7CiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIC5hdHRyKCJoZWlnaHQiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDsKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgLmF0dHIoIndpZHRoIiwgTGFyZ2V1cl9iYXJyZXMgLSBFc3BhY2VtZW50X2JhcnJlcykKICAgICAgICAgICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gWyhMYXJnZXVyX2JhcnJlcyAqIGkpICsgbWFyZ2VYLCAtbWFyZ2VZXTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAidHJhbnNsYXRlKCIrIHRyYW5zbGF0ZSArIikiOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgIHN2Zy5zZWxlY3RBbGwoImdyYXBoZV9ibGV1IikKICAgICAgICAgICAgICAgICAgLmRhdGEodGVtcF9vaykKICAgICAgICAgICAgICAgICAgLmVudGVyKCkKICAgICAgICAgICAgICAgICAgLmFwcGVuZCgicmVjdCIpCiAgICAgICAgICAgICAgICAgIC5hdHRyKCJmaWxsIiwgInN0ZWVsYmx1ZSIpCiAgICAgICAgICAgICAgICAgIC5hdHRyKCJ5IiwgZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhhdXRldXJfZ3JhcGhlIC0gZDsKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgLmF0dHIoIngiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFc3BhY2VtZW50X2JhcnJlczsKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgLmF0dHIoImhlaWdodCIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkOwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAuYXR0cigid2lkdGgiLCBMYXJnZXVyX2JhcnJlcyAtIEVzcGFjZW1lbnRfYmFycmVzKQogICAgICAgICAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSBbKExhcmdldXJfYmFycmVzICogaSkgKyBtYXJnZVgsIC1tYXJnZVldOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJ0cmFuc2xhdGUoIisgdHJhbnNsYXRlICsiKSI7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgIH0sCiAgICB0ZW1wX2JsZXVlcygpewogICAgdmFyIHRhYiA9IFtdOwogICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMubmJfem9uZXM7IGkrKyl7CiAgICAgICAgaWYodGhpcy5kYXRhW2ldIDw9IHRoaXMudGVtcF9zZXVpbHNbaV0pewogICAgICAgICAgICB0YWIucHVzaCh0aGlzLmRhdGFbaV0pOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgICB0YWIucHVzaCh0aGlzLnRlbXBfc2V1aWxzW2ldKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gdGFiOwogICAgfSwKICAgIHRlbXBfcm91Z2VzKCl7CiAgICAgIHZhciB0YWIgPSBbXTsKICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMubmJfem9uZXM7IGkrKyl7CiAgICAgICAgICBpZih0aGlzLmRhdGFbaV0gPiB0aGlzLnRlbXBfc2V1aWxzW2ldKXsKICAgICAgICAgICAgICB0YWIucHVzaCh0aGlzLmRhdGFbaV0pOwogICAgICAgICAgfQogICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICB0YWIucHVzaCgwKTsKICAgICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdGFiOwogICAgfSwKICAgIHVwZGF0ZSgpewogICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCJzdmciKTsKICAgICAgc3ZnLnNlbGVjdEFsbCgiKiIpLnJlbW92ZSgpOwogICAgICB0aGlzLmRlc3NpbmVyX2hpc3RvZ3JhbW1lKCk7CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["Graphe.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Graphe.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n\n    <svg id=\"histogramme_temp\">\n    </svg>\n  </v-container>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nexport default {\n  name: 'vue-line-chart',\n  data: () => ({\n      data: undefined,\n      timer: undefined,\n      nb_zones: undefined,\n      temp_seuils: undefined,\n      margeX: 30,\n      margeY: 20,\n      Largeur_graphe: 800,\n      Hauteur_graphe: 500,\n      Espacement_barres: 10,\n      Largeur_barres: undefined,\n      tab_zones: undefined,\n    }),\n  mounted() {\n    console.log(window.innerWidth*.7);\n    this.Hauteur_graphe = Math.floor(window.innerHeight*.6);\n    this.Largeur_graphe = Math.floor(window.innerWidth*.45)+this.margeX;\n    this.get_config();\n    if(this.tab_zones === undefined){\n      this.timer = setInterval(this.get_config, 1000);\n    }\n  },\n  destroyed: function(){\n    clearInterval(this.timer);\n  },\n  watch:{\n    data: function(){\n      // this.createGraph();\n      this.update();\n    },\n    tab_zones: function(){\n      clearInterval(this.timer);\n      this.get_temp_seuil();\n    },\n    temp_seuils: function(){\n      console.log(\"a\");\n      this.Largeur_barres = this.Largeur_graphe/this.nb_zones;\n      this.changeData();\n      this.timer = setInterval(this.changeData, 1000);\n    }\n  },\n  methods: {\n    get_temp_seuil(){\n      let data_to_send = [\"get_configuration_courante\"];\n      let headers = {'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'POST, GET, PUT, OPTIONS, DELETE',\n            'Access-Control-Allow-Headers': 'Access-Control-Allow-Methods, Access-Control-Allow-Origin, Origin, Accept, Content-Type',\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          }\n      fetch(\"http://localhost:3000\", {\n        method: 'post',\n        headers,\n        body: JSON.stringify(data_to_send)\n      })\n      .then(res=> res.json())\n      .then(data => {\n        if(data[1] === null){\n          this.temp_seuils = new Array(this.nb_zones);\n          for(let i=0; i<this.nb_zones; i++){\n            this.temp_seuils[i] = 100;\n          }\n        }\n        else{\n          console.log(data[1]);\n          this.temp_seuils = new Array(this.nb_zones);\n          for (let i=0; i<this.nb_zones; i++){\n            this.temp_seuils[i] = data[1][this.tab_zones[i]];\n          }\n        }\n      });\n    },\n    grille_selon_Y(AxeY) {\n      return d3.axisLeft(AxeY).ticks(10)\n    },\n    get_config(){\n      let data_to_send = [\"get_specifications_thermo\"];\n      let headers = {'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'POST, GET, PUT, OPTIONS, DELETE',\n            'Access-Control-Allow-Headers': 'Access-Control-Allow-Methods, Access-Control-Allow-Origin, Origin, Accept, Content-Type',\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          }\n      fetch(\"http://localhost:3000\", {\n        method: 'post',\n        headers,\n        body: JSON.stringify(data_to_send)\n      })\n      .then(res=> res.json())\n      .then(data => {\n        this.nb_zones = data[1].nb_zones;\n        this.tab_zones = data[1].nom_zone_chauffe;\n      });\n    },\n    changeData(){\n\n      let data_to_send = [\"get_temperature\"];\n      let headers = {'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'POST, GET, PUT, OPTIONS, DELETE',\n            'Access-Control-Allow-Headers': 'Access-Control-Allow-Methods, Access-Control-Allow-Origin, Origin, Accept, Content-Type',\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          }\n      fetch(\"http://localhost:3000\", {\n        method: 'post',\n        headers,\n        body: JSON.stringify(data_to_send)\n      })\n      .then(res=> res.json())\n      .then(data => {\n        this.data = data[1].zone_chauffe;\n      });\n    },\n    dessiner_histogramme(){\n      var nb_zones = this.data.length;\n      var margeX = this.margeX;\n      var margeY = this.margeY;\n      var Largeur_graphe = this.Largeur_graphe;\n      var Hauteur_graphe = this.Hauteur_graphe;\n      var Espacement_barres = this.Espacement_barres;\n      var Largeur_barres = (Largeur_graphe / nb_zones);\n\n      var tab_zones = this.tab_zones;\n\n      var AxeY = d3.scaleLinear()\n          .domain([d3.max(this.data)+150,0])\n          .range([0,Hauteur_graphe])\n\n      var AxeX = d3.scaleBand()\n          .domain(tab_zones)\n          .range([0,Largeur_graphe])\n\n      var svg = d3.select('#histogramme_temp')\n          .attr(\"width\", Largeur_graphe+margeX)\n          .attr(\"height\", Hauteur_graphe);\n\n      var temp_ok = this.temp_bleues();\n      var temp_pas_ok = this.temp_rouges();\n      for(var i = 0; i < nb_zones; i++){\n        temp_pas_ok[i] = Hauteur_graphe - AxeY(temp_pas_ok[i]);\n        temp_ok[i] = Hauteur_graphe - AxeY(temp_ok[i]);\n      }\n\n      svg.append(\"g\")\n          .attr(\"class\", \"grille\")\n          .attr(\"transform\", \"translate(\"+margeX+\",\"+ -margeY +\")\")\n          .call(this.grille_selon_Y(AxeY)\n              .tickSize(-Largeur_graphe)\n              .tickFormat(\"\")\n          );\n\n      svg.selectAll(\".grille line\").style(\"stroke\", \"lightgray\");\n\n\n      svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\"+margeX+\",\"+ -margeY +\")\")\n      .call(d3.axisLeft(AxeY));\n\n      svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\"+ margeX +\",\"+(Hauteur_graphe-margeY)+\")\")\n      .call(d3.axisBottom(AxeX));\n\n\n      svg.selectAll(\"graphe_rouge\")\n                  .data(temp_pas_ok)\n                  .enter()\n                  .append(\"rect\")\n                  .attr(\"fill\", \"red\")\n                  .attr(\"y\", function(d) {\n                      return Hauteur_graphe - d;\n                  })\n                  .attr(\"x\", function() {\n                      return Espacement_barres;\n                  })\n                  .attr(\"height\", function(d) {\n                      return d;\n                  })\n                  .attr(\"width\", Largeur_barres - Espacement_barres)\n                  .attr(\"transform\", function (d, i) {\n                      var translate = [(Largeur_barres * i) + margeX, -margeY];\n                      return \"translate(\"+ translate +\")\";\n                  });\n\n      svg.selectAll(\"graphe_bleu\")\n                  .data(temp_ok)\n                  .enter()\n                  .append(\"rect\")\n                  .attr(\"fill\", \"steelblue\")\n                  .attr(\"y\", function(d) {\n                      return Hauteur_graphe - d;\n                  })\n                  .attr(\"x\", function() {\n                      return Espacement_barres;\n                  })\n                  .attr(\"height\", function(d) {\n                      return d;\n                  })\n                  .attr(\"width\", Largeur_barres - Espacement_barres)\n                  .attr(\"transform\", function (d, i) {\n                      var translate = [(Largeur_barres * i) + margeX, -margeY];\n                      return \"translate(\"+ translate +\")\";\n                  });\n\n    },\n    temp_bleues(){\n    var tab = [];\n    for(var i = 0; i < this.nb_zones; i++){\n        if(this.data[i] <= this.temp_seuils[i]){\n            tab.push(this.data[i]);\n        }\n        else{\n            tab.push(this.temp_seuils[i]);\n        }\n    }\n    return tab;\n    },\n    temp_rouges(){\n      var tab = [];\n      for(var i = 0; i < this.nb_zones; i++){\n          if(this.data[i] > this.temp_seuils[i]){\n              tab.push(this.data[i]);\n          }\n          else{\n              tab.push(0);\n          }\n      }\n      return tab;\n    },\n    update(){\n      var svg = d3.select(\"svg\");\n      svg.selectAll(\"*\").remove();\n      this.dessiner_histogramme();\n    }\n  },\n};\n</script>\n\n<style scoped>\n  svg{\n    margin: 25px;\n  }\n  path{\n    fill: none;\n    stroke: #76BF8A;\n    stroke-width: 3px;\n  }\n</style>\n"]}]}