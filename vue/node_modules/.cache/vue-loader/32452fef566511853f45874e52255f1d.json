{"remainingRequest":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/romain/Bureau/Projet/2/Thermoformeuse/vue/src/components/Config.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/src/components/Config.vue","mtime":1584312281987},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/cache-loader/dist/cjs.js","mtime":1583847125793},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/babel-loader/lib/index.js","mtime":1583847125770},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/vuetify-loader/lib/loader.js","mtime":1583847126586},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/cache-loader/dist/cjs.js","mtime":1583847125793},{"path":"/home/romain/Bureau/Projet/2/Thermoformeuse/vue/node_modules/vue-loader/lib/index.js","mtime":1583847126556}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgZGlhbG9nOiBmYWxzZSwKICAgIHNlbGVjdGVkOiBbXSwKICAgIHNlYXJjaDonJywKICAgIGhlYWRlcnM6IFsKICAgICAgewogICAgICAgIHRleHQ6ICdOb20nLAogICAgICAgIHZhbHVlOiAnbmFtZScsCiAgICAgIH0sCiAgICAgIHsgdGV4dDogJ1QxJywgdmFsdWU6ICd0MScgfSwKICAgICAgeyB0ZXh0OiAnVDInLCB2YWx1ZTogJ3QyJ30sCiAgICAgIHsgdGV4dDogJ1QzJywgdmFsdWU6ICd0Myd9LAogICAgICB7IHRleHQ6ICdUNCcsIHZhbHVlOiAndDQnIH0sCiAgICAgIHsgdGV4dDogJ1Q1JywgdmFsdWU6ICd0NSd9LAogICAgICB7IHRleHQ6ICdUNicsIHZhbHVlOiAndDYnfSwKICAgICAgeyB0ZXh0OiAnQWN0aW9ucycsIHZhbHVlOiAnYWN0aW9uJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICBdLAogICAgY29uZmlnOiBbXSwKICAgIGVkaXRlZEluZGV4OiAtMSwKICAgIGVkaXRlZEl0ZW06IHsKICAgICAgbmFtZTogJycsCiAgICAgIHQxOjAsCiAgICAgIHQyOjAsCiAgICAgIHQzOjAsCiAgICAgIHQ0OjAsCiAgICAgIHQ1OjAsCiAgICAgIHQ2OjAsCiAgICB9LAogICAgZGVmYXVsdEl0ZW06IHsKICAgICAgbmFtZTogJ0NvbmZpZycsCiAgICAgIHQxOjAsCiAgICAgIHQyOjAsCiAgICAgIHQzOjAsCiAgICAgIHQ0OjAsCiAgICAgIHQ1OjAsCiAgICAgIHQ2OjAsCiAgICB9LAogIH0pLAoKICBjb21wdXRlZDogewogICAgZm9ybVRpdGxlICgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gJ05vdXZlbGxlIENvbmZpZ3VyYXRpb24nIDogJ8OJZGl0ZXIgQ29uZmlndXJhdGlvbicKICAgIH0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGRpYWxvZyAodmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCkKICAgIH0sCiAgfSwKCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmluaXRpYWxpemUoKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZUl0ZW1zKCl7CiAgICAgIHRoaXMuZGVsZXRlSXRlbSh0aGlzLnNlbGVjdGVkWzBdKTsKICAgIH0sCiAgICBpbml0aWFsaXplICgpIHsKICAgICAgbGV0IGRhdGFfdG9fc2VuZCA9IFsiZ2V0X2FsbF9jb25maWd1cmF0aW9ucyJdOwogICAgICBsZXQgaGVhZGVycyA9IHsnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLAogICAgICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyc6ICdQT1NULCBHRVQsIFBVVCwgT1BUSU9OUywgREVMRVRFJywKICAgICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcywgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luLCBPcmlnaW4sIEFjY2VwdCwgQ29udGVudC1UeXBlJywKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgfQogICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwgewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGhlYWRlcnMsCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YV90b19zZW5kKQoKICAgICAgfSkKICAgICAgLnRoZW4ocmVzPT4gcmVzLmpzb24oKSkKICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgbGV0IGk7CiAgICAgICAgdGhpcy5oZWFkZXJzID0gW3t0ZXh0OiAnTm9tJywgdmFsdWU6ICduYW1lJ31dOwogICAgICAgIGZvciAoaT0xOyBpPD1kYXRhWzFdWzBdLnBhcmFtZXRyZS50ZW1wZXJhdHVyZV96b25lLmxlbmd0aDsgaSsrKXsKICAgICAgICAgIHRoaXMuaGVhZGVycy5wdXNoKHt0ZXh0OiAnVCcraSwgdmFsdWU6J3QnK2l9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5oZWFkZXJzLnB1c2goeyB0ZXh0OiAnQWN0aW9ucycsIHZhbHVlOiAnYWN0aW9uJywgc29ydGFibGU6IGZhbHNlIH0pOwogICAgICAgIGNvbnNvbGUubG9nKGRhdGFbMV0ubGVuZ3RoKTsKICAgICAgICBmb3IoaT0wOyBpPGRhdGFbMV0ubGVuZ3RoOyBpKyspewogICAgICAgICAgbGV0IGQgPSB7bmFtZTogZGF0YVsxXVtpXS5ub219OwogICAgICAgICAgZm9yKGxldCBpMj0wOyBpMjxkYXRhWzFdWzBdLnBhcmFtZXRyZS50ZW1wZXJhdHVyZV96b25lLmxlbmd0aDsgaTIrKyl7CiAgICAgICAgICAgIGxldCB0eHQgPSAndCcrKGkyKzEpOwogICAgICAgICAgICBjb25zb2xlLmxvZyggZGF0YVsxXVswXS5wYXJhbWV0cmUudGVtcGVyYXR1cmVfem9uZVtpMl0pOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0eHQpOwogICAgICAgICAgICBkW3R4dF0gPSBkYXRhWzFdWzBdLnBhcmFtZXRyZS50ZW1wZXJhdHVyZV96b25lW2kyXTsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGFbMV1baV0ubm9tKQogICAgICAgICAgdGhpcy5jb25maWcucHVzaChkKQogICAgICAgIH0KICAgICAgfSk7CiAgICBbewogICAgICAiX2lkIjoiNWU2ZThhOWVhMGFlZDAzMWJkZjMyMTQ4IiwKICAgICAgImRhdGUiOjE1ODQzMDI3NTA0NTAsCiAgICAgICJub20iOiJjb25mX2RlX3Rlc3QiLAogICAgICAicGFyYW1ldHJlIjp7InRlbXBlcmF0dXJlX3pvbmUiOlsxMDAsMTIwLDgwLDEwNSwxMTAsMTUwXX0sCiAgICAgICJkZXRhaWwiOiJzYW5zIGRldGFpbCIKICAgIH0seyJfaWQiOiI1ZTZlOTE4ZmZjYmE5NDM3M2U0NzQ0NDMiLCJkYXRlIjoxNTg0MDUzNTI3MjgyLCJub20iOiJjb25mX2RlX3Rlc3QiLCJwYXJhbWV0cmUiOnsidGVtcGVyYXR1cmVfem9uZSI6WzEwMCwxMjAsODAsMTA1LDExMCwxNTBdfSwiZGV0YWlsIjoic2FucyBkZXRhaWwifSx7Il9pZCI6IjVlNmU5MWU2ZmNiYTk0MzczZTQ3NDQ0NSIsImRhdGUiOjE1ODQwNTM1MjcyODIsIm5vbSI6ImNvbmZfZGVfdGVzdCIsInBhcmFtZXRyZSI6eyJ0ZW1wZXJhdHVyZV96b25lIjpbMTAwLDEyMCw4MCwxMDUsMTEwLDE1MF19LCJkZXRhaWwiOiJzYW5zIGRldGFpbCJ9XQogICAgfSwKCiAgICBlZGl0SXRlbSAoaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5jb25maWcuaW5kZXhPZihpdGVtKQogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQogICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgIH0sCgogICAgZGVsZXRlSXRlbSAoaXRlbSkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMuY29uZmlnLmluZGV4T2YoaXRlbSkKICAgICAgY29uZmlybSgnw4p0ZXMtdm91cyBzw7tyZSBkZSB2b3Vsb2lyIHN1cHByaW1lciBjZXQgY29uZmlndXJhdGlvbicpICYmIHRoaXMuZGVzc2VydHMuc3BsaWNlKGluZGV4LCAxKQogICAgfSwKCiAgICBjbG9zZSAoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSkKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTEKICAgICAgfSwgMzAwKQogICAgfSwKCiAgICBzYXZlICgpIHsKICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb25maWdbdGhpcy5lZGl0ZWRJbmRleF0sIHRoaXMuZWRpdGVkSXRlbSkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbmZpZy5wdXNoKHRoaXMuZWRpdGVkSXRlbSkKICAgICAgfQogICAgICB0aGlzLmNsb3NlKCkKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["Config.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Config.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-data-table\n    v-model=\"selected\"\n    item-key=\"name\"\n    :headers=\"headers\"\n    :items=\"config\"\n    :search=\"search\"\n    :single-select=\"false\"\n    show-select\n  >\n    <template v-slot:top>\n      <v-toolbar flat color=\"white\">\n        <v-toolbar-title>Configurations</v-toolbar-title>\n        <v-divider\n          class=\"mx-4\"\n          inset\n          vertical\n        ></v-divider>\n        <v-spacer></v-spacer>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Rechercher\"\n          single-line\n          hide-details\n        ></v-text-field>\n        <v-dialog v-model=\"dialog\" max-width=\"500px\">\n          <template v-slot:activator=\"{ on }\">\n            <v-btn color=\"green\" dark @click=\"deleteItems()\"><v-icon>mdi-delete</v-icon></v-btn>\n            <v-btn color=\"green\" dark v-on=\"on\"><v-icon>mdi-plus</v-icon></v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">{{ formTitle }}</span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\" sm=\"12\" md=\"30\">\n                    <v-text-field v-model=\"editedItem.name\" label=\"Nom\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                    <v-text-field v-model=\"editedItem.t1\" label=\"T1\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                    <v-text-field v-model=\"editedItem.t2\" label=\"T2\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                    <v-text-field v-model=\"editedItem.t3\" label=\"T3\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                    <v-text-field v-model=\"editedItem.t4\" label=\"T4\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                    <v-text-field v-model=\"editedItem.t5\" label=\"T5\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                    <v-text-field v-model=\"editedItem.t6\" label=\"T6\"></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"green\" text @click=\"close\">Annuler</v-btn>\n              <v-btn color=\"green\" text @click=\"save\">Sauvegarder</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:item.action=\"{ item }\">\n      <v-icon\n        large\n        class=\"mr-2\"\n        @click=\"editItem(item)\"\n      >\n        mdi-pencil\n      </v-icon>\n      <v-icon\n        large\n        @click=\"uploadItem(item)\"\n      >\n        mdi-upload\n      </v-icon>\n    </template>\n    <template v-slot:no-data>\n      <v-btn color=\"primary\" @click=\"initialize\">Reset</v-btn>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\n  export default {\n    data: () => ({\n      dialog: false,\n      selected: [],\n      search:'',\n      headers: [\n        {\n          text: 'Nom',\n          value: 'name',\n        },\n        { text: 'T1', value: 't1' },\n        { text: 'T2', value: 't2'},\n        { text: 'T3', value: 't3'},\n        { text: 'T4', value: 't4' },\n        { text: 'T5', value: 't5'},\n        { text: 'T6', value: 't6'},\n        { text: 'Actions', value: 'action', sortable: false },\n      ],\n      config: [],\n      editedIndex: -1,\n      editedItem: {\n        name: '',\n        t1:0,\n        t2:0,\n        t3:0,\n        t4:0,\n        t5:0,\n        t6:0,\n      },\n      defaultItem: {\n        name: 'Config',\n        t1:0,\n        t2:0,\n        t3:0,\n        t4:0,\n        t5:0,\n        t6:0,\n      },\n    }),\n\n    computed: {\n      formTitle () {\n        return this.editedIndex === -1 ? 'Nouvelle Configuration' : 'Éditer Configuration'\n      },\n    },\n\n    watch: {\n      dialog (val) {\n        val || this.close()\n      },\n    },\n\n    created () {\n      this.initialize()\n    },\n\n    methods: {\n      deleteItems(){\n        this.deleteItem(this.selected[0]);\n      },\n      initialize () {\n        let data_to_send = [\"get_all_configurations\"];\n        let headers = {'Access-Control-Allow-Origin': '*',\n              'Access-Control-Allow-Methods': 'POST, GET, PUT, OPTIONS, DELETE',\n              'Access-Control-Allow-Headers': 'Access-Control-Allow-Methods, Access-Control-Allow-Origin, Origin, Accept, Content-Type',\n              'Content-Type': 'application/json',\n              'Accept': 'application/json'\n            }\n        fetch(\"http://localhost:3000\", {\n          method: 'post',\n          headers,\n          body: JSON.stringify(data_to_send)\n\n        })\n        .then(res=> res.json())\n        .then(data => {\n          let i;\n          this.headers = [{text: 'Nom', value: 'name'}];\n          for (i=1; i<=data[1][0].parametre.temperature_zone.length; i++){\n            this.headers.push({text: 'T'+i, value:'t'+i});\n          }\n          this.headers.push({ text: 'Actions', value: 'action', sortable: false });\n          console.log(data[1].length);\n          for(i=0; i<data[1].length; i++){\n            let d = {name: data[1][i].nom};\n            for(let i2=0; i2<data[1][0].parametre.temperature_zone.length; i2++){\n              let txt = 't'+(i2+1);\n              console.log( data[1][0].parametre.temperature_zone[i2]);\n              console.log(txt);\n              d[txt] = data[1][0].parametre.temperature_zone[i2];\n            }\n            console.log(data[1][i].nom)\n            this.config.push(d)\n          }\n        });\n      [{\n        \"_id\":\"5e6e8a9ea0aed031bdf32148\",\n        \"date\":1584302750450,\n        \"nom\":\"conf_de_test\",\n        \"parametre\":{\"temperature_zone\":[100,120,80,105,110,150]},\n        \"detail\":\"sans detail\"\n      },{\"_id\":\"5e6e918ffcba94373e474443\",\"date\":1584053527282,\"nom\":\"conf_de_test\",\"parametre\":{\"temperature_zone\":[100,120,80,105,110,150]},\"detail\":\"sans detail\"},{\"_id\":\"5e6e91e6fcba94373e474445\",\"date\":1584053527282,\"nom\":\"conf_de_test\",\"parametre\":{\"temperature_zone\":[100,120,80,105,110,150]},\"detail\":\"sans detail\"}]\n      },\n\n      editItem (item) {\n        this.editedIndex = this.config.indexOf(item)\n        this.editedItem = Object.assign({}, item)\n        this.dialog = true\n      },\n\n      deleteItem (item) {\n        const index = this.config.indexOf(item)\n        confirm('Êtes-vous sûre de vouloir supprimer cet configuration') && this.desserts.splice(index, 1)\n      },\n\n      close () {\n        this.dialog = false\n        setTimeout(() => {\n          this.editedItem = Object.assign({}, this.defaultItem)\n          this.editedIndex = -1\n        }, 300)\n      },\n\n      save () {\n        if (this.editedIndex > -1) {\n          Object.assign(this.config[this.editedIndex], this.editedItem)\n        } else {\n          this.config.push(this.editedItem)\n        }\n        this.close()\n      },\n    },\n  }\n</script>\n"]}]}